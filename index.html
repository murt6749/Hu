<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Haramaya Jama'aa - Learning Platform</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
</head>
<body>
  <!-- Loading Screen -->
  <div class="loading-screen" id="loading-screen">
    <div class="loading-content">
      <div class="loading-logo">
        <img src="assets/logo.svg" alt="Haramaya Logo">
      </div>
      <div class="loading-spinner"></div>
      <div class="loading-text">Loading Learning Platform</div>
    </div>
  </div>

  <!-- App Container -->
  <div class="app-container" id="app-container">
    <!-- Side Navigation -->
    <nav class="side-nav" id="side-nav">
      <div class="nav-header">
        <div class="logo-container">
          <img src="assets/logo.svg" alt="Haramaya Logo" class="logo">
          <span class="app-name">Haramaya Jama'aa</span>
        </div>
        <button class="nav-toggle" id="nav-toggle">
          <i class="fas fa-bars"></i>
        </button>
      </div>
      
      <div class="nav-content">
        <div class="user-profile">
          <div class="avatar" id="user-avatar">
            <i class="fas fa-user"></i>
          </div>
          <div class="user-info">
            <div class="user-name" id="user-name">Guest User</div>
            <div class="user-role" id="user-role">Visitor</div>
          </div>
        </div>
        
        <ul class="nav-menu">
          <li class="nav-item active">
            <a href="#">
              <i class="fas fa-home"></i>
              <span>Dashboard</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="courses.html">
              <i class="fas fa-book-open"></i>
              <span>My Courses</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="progress.html">
              <i class="fas fa-chart-line"></i>
              <span>Progress</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="community.html">
              <i class="fas fa-users"></i>
              <span>Community</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="resources.html">
              <i class="fas fa-file-alt"></i>
              <span>Resources</span>
            </a>
          </li>
          <li class="nav-item admin-only" style="display: none;">
            <a href="admin.html">
              <i class="fas fa-shield-alt"></i>
              <span>Admin Panel</span>
            </a>
          </li>
        </ul>
      </div>
      
      <div class="nav-footer">
        <button class="theme-toggle" id="theme-toggle">
          <i class="fas fa-moon"></i>
          <span>Dark Mode</span>
        </button>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content" id="main-content">
      <!-- Top Navigation -->
      <header class="top-nav">
        <div class="search-container">
          <button class="search-toggle" id="search-toggle">
            <i class="fas fa-search"></i>
          </button>
          <div class="search-box" id="search-box">
            <input type="text" placeholder="Search courses, announcements..." id="search-input">
            <button class="search-close" id="search-close">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
        
        <div class="header-actions">
          <button class="notification-btn" id="notification-btn">
            <i class="fas fa-bell"></i>
            <span class="notification-badge" id="notification-badge">0</span>
          </button>
          
          <div class="user-dropdown" id="user-dropdown">
            <button class="user-btn" id="user-btn">
              <div class="avatar" id="header-avatar">
                <i class="fas fa-user"></i>
              </div>
              <span id="header-username">Guest</span>
              <i class="fas fa-chevron-down"></i>
            </button>
            <div class="dropdown-menu" id="dropdown-menu">
              <a href="profile.html" class="dropdown-item">
                <i class="fas fa-user-circle"></i> My Profile
              </a>
              <a href="settings.html" class="dropdown-item">
                <i class="fas fa-cog"></i> Settings
              </a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item" id="logout-btn">
                <i class="fas fa-sign-out-alt"></i> Logout
              </a>
            </div>
          </div>
        </div>
      </header>

      <!-- Content Area -->
      <div class="content-area">
        <div class="page-header">
          <h1>Welcome Back, <span id="greeting-name">Learner</span></h1>
          <p class="subtitle">Track your learning progress and discover new courses</p>
        </div>
        
        <!-- Dashboard Widgets -->
        <div class="dashboard-grid">
          <!-- Stats Overview -->
          <div class="stats-card">
            <div class="stats-header">
              <h3>Learning Overview</h3>
              <div class="stats-period">
                <select id="stats-period">
                  <option value="week">This Week</option>
                  <option value="month" selected>This Month</option>
                  <option value="year">This Year</option>
                </select>
              </div>
            </div>
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-value" id="active-courses">0</div>
                <div class="stat-label">Active Courses</div>
                <div class="stat-icon">
                  <i class="fas fa-book-open"></i>
                </div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="completed-lessons">0</div>
                <div class="stat-label">Completed</div>
                <div class="stat-icon">
                  <i class="fas fa-check-circle"></i>
                </div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="streak-days">0</div>
                <div class="stat-label">Day Streak</div>
                <div class="stat-icon">
                  <i class="fas fa-fire"></i>
                </div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="learning-hours">0</div>
                <div class="stat-label">Hours Learned</div>
                <div class="stat-icon">
                  <i class="fas fa-clock"></i>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Progress Chart -->
          <div class="chart-card">
            <div class="chart-header">
              <h3>Your Progress</h3>
              <div class="chart-legend">
                <span class="legend-item">
                  <span class="legend-color completion"></span>
                  Completion
                </span>
                <span class="legend-item">
                  <span class="legend-color performance"></span>
                  Performance
                </span>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="progress-chart"></canvas>
            </div>
          </div>
          
          <!-- Active Courses -->
          <div class="courses-card">
            <div class="courses-header">
              <h3>Active Courses</h3>
              <a href="courses.html" class="view-all">View All</a>
            </div>
            <div class="courses-list" id="courses-list">
              <div class="empty-state">
                <i class="fas fa-book-open"></i>
                <p>No active courses</p>
                <a href="explore.html" class="btn btn-primary">Browse Courses</a>
              </div>
            </div>
          </div>
          
          <!-- Recent Announcements -->
          <div class="announcements-card">
            <div class="announcements-header">
              <h3>Recent Announcements</h3>
              <a href="announcements.html" class="view-all">View All</a>
            </div>
            <div class="announcements-list" id="announcements-list">
              <div class="announcement-item">
                <div class="announcement-content">
                  <h4>Welcome to the New Learning Platform</h4>
                  <p>We're excited to launch our upgraded learning experience with new features and improvements.</p>
                </div>
                <div class="announcement-meta">
                  <span class="announcement-date">2 days ago</span>
                  <span class="announcement-badge">New</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Quick Actions -->
          <div class="quick-actions-card">
            <h3>Quick Actions</h3>
            <div class="actions-grid">
              <a href="explore.html" class="action-item">
                <div class="action-icon">
                  <i class="fas fa-compass"></i>
                </div>
                <span>Explore Courses</span>
              </a>
              <a href="calendar.html" class="action-item">
                <div class="action-icon">
                  <i class="fas fa-calendar-alt"></i>
                </div>
                <span>Learning Calendar</span>
              </a>
              <a href="community.html" class="action-item">
                <div class="action-icon">
                  <i class="fas fa-comments"></i>
                </div>
                <span>Discussion Forum</span>
              </a>
              <a href="resources.html" class="action-item">
                <div class="action-icon">
                  <i class="fas fa-download"></i>
                </div>
                <span>Download Resources</span>
              </a>
            </div>
          </div>
          
          <!-- Learning Goals -->
          <div class="goals-card">
            <div class="goals-header">
              <h3>Learning Goals</h3>
              <button class="btn-icon" id="add-goal-btn">
                <i class="fas fa-plus"></i>
              </button>
            </div>
            <div class="goals-list" id="goals-list">
              <div class="empty-state">
                <i class="fas fa-bullseye"></i>
                <p>No goals set yet</p>
                <button class="btn btn-primary" id="set-goal-btn">Set a Goal</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notification-panel">
      <div class="notification-header">
        <h3>Notifications</h3>
        <div class="notification-actions">
          <button class="btn-text" id="mark-all-read">Mark all as read</button>
          <button class="btn-icon" id="close-notifications">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
      <div class="notification-list" id="notification-list">
        <div class="empty-state">
          <i class="fas fa-bell-slash"></i>
          <p>No notifications yet</p>
        </div>
      </div>
    </div>

    <!-- Search Results Panel -->
    <div class="search-results-panel" id="search-results-panel">
      <div class="search-results-header">
        <h3>Search Results</h3>
        <button class="btn-icon" id="close-search-results">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="search-results-content" id="search-results-content">
        <div class="search-tabs">
          <button class="search-tab active" data-tab="all">All</button>
          <button class="search-tab" data-tab="courses">Courses</button>
          <button class="search-tab" data-tab="announcements">Announcements</button>
          <button class="search-tab" data-tab="resources">Resources</button>
        </div>
        <div class="search-results-list" id="search-results-list">
          <div class="empty-state">
            <i class="fas fa-search"></i>
            <p>Enter a search term to find courses and resources</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Logout Confirmation Modal -->
    <div class="modal-overlay" id="logout-modal">
      <div class="modal">
        <div class="modal-header">
          <h3>Confirm Logout</h3>
          <button class="btn-icon modal-close" id="logout-modal-close">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to log out of your account?</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="logout-cancel">Cancel</button>
          <button class="btn btn-primary" id="logout-confirm">Logout</button>
        </div>
      </div>
    </div>

    <!-- Add Goal Modal -->
    <div class="modal-overlay" id="goal-modal">
      <div class="modal">
        <div class="modal-header">
          <h3>Set Learning Goal</h3>
          <button class="btn-icon modal-close" id="goal-modal-close">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="goal-title">Goal Title</label>
            <input type="text" id="goal-title" placeholder="e.g. Complete JavaScript Course">
          </div>
          <div class="form-group">
            <label for="goal-description">Description</label>
            <textarea id="goal-description" rows="3" placeholder="Describe your learning goal..."></textarea>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="goal-date">Target Date</label>
              <input type="date" id="goal-date">
            </div>
            <div class="form-group">
              <label for="goal-priority">Priority</label>
              <select id="goal-priority">
                <option value="low">Low</option>
                <option value="medium" selected>Medium</option>
                <option value="high">High</option>
              </select>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="goal-cancel">Cancel</button>
          <button class="btn btn-primary" id="goal-save">Save Goal</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Floating Help Button -->
  <button class="floating-help-btn" id="help-btn">
    <i class="fas fa-question"></i>
  </button>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
  <script src="config.js"></script>
  <script src="app.js"></script>
</body>
</html>
